#include "GameStartLobbyUI.h"

#include "Components/WidgetSwitcher.h"
#include "SubUI/GameStartCinematicUI.h"
#include "SubUI/LicenseUI.h"

void UGameStartLobbyUI::NativeConstruct()
{
	Super::NativeConstruct();

	StartCinematicUI->OnCinematicEndNotified.Clear();
	StartCinematicUI->OnCinematicEndNotified.AddDynamic(this, &ThisClass::GoNextSubUI);
	LicenseUI->OnLicenseEndNotified.AddDynamic(this, &ThisClass::EndSubUI);
}

void UGameStartLobbyUI::GoNextSubUI()
{
	UISwitcher->SetActiveWidgetIndex(UISwitcher->GetActiveWidgetIndex() + 1);
}

void UGameStartLobbyUI::EndSubUI()
{
	UISwitcher->SetVisibility(ESlateVisibility::Hidden);
}
